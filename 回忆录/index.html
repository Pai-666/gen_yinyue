<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小花朵页面</title>
    <style>
        * {margin:0;padding:0;box-sizing:border-box;}
        body {
            min-height:100vh;
            background:linear-gradient(135deg, #4facfe 0%, #ffe6f2 50%, #43e97b 100%);
            border:3px solid #000;
            position:relative;
            overflow:hidden;
        }

        /* 装饰元素（猫的尺寸：100-150px） */
        .cat-img {position:absolute;bottom: -15px;left: 5px;width:150px;height:150px;z-index:10;}
        .cat-img1 {position:absolute;bottom: 100px;left: 15px;width:100px;height:100px;z-index:10;}
        .folder-img {
            position:absolute;
            bottom: 140px;
            right: -15px;
            width: 150px;
            height: 150px;
            z-index:10;
        }
        .folder-img1 {
            position:absolute;
            bottom: 20px;
            right: -20px;
            width: 100px;
            height: 100px;
            z-index:10;
        }

        /* 照片轮播样式 */
        .photo-carousel {
            position:absolute;
            top:50%;
            left:50%;
            transform:translate(-50%, -50%);
            width:80%;
            max-width:800px;
            height:60vh;
            max-height:600px;
            border-radius:12px;
            overflow:hidden;
            box-shadow:0 8px 32px rgba(0,0,0,0.2);
            z-index:5;
            border:5px solid #fff;
        }
        .carousel-inner {
            width:100%;
            height:100%;
            position:relative;
        }
        .carousel-item {
            position:absolute;
            top:0;
            left:0;
            width:100%;
            height:100%;
            opacity:0;
            transition:opacity 0.8s ease-in-out;
        }
        .carousel-item.active {
            opacity:1;
        }
        .carousel-item img {
            width:100%;
            height:100%;
            object-fit:cover;
        }
        /* 轮播控制按钮 */
        .carousel-control {
            position:absolute;
            top:50%;
            transform:translateY(-50%);
            width:50px;
            height:50px;
            border-radius:50%;
            background:rgba(255,255,255,0.7);
            color:#333;
            font-size:24px;
            border:none;
            cursor:pointer;
            display:flex;
            align-items:center;
            justify-content:center;
            z-index:10;
            transition:all 0.3s ease;
        }
        .carousel-control:hover {
            background:rgba(255,255,255,0.9);
            transform:translateY(-50%) scale(1.1);
        }
        .carousel-control.prev {
            left:20px;
        }
        .carousel-control.next {
            right:20px;
        }
        /* 轮播指示器 */
        .carousel-indicators {
            position:absolute;
            bottom:20px;
            left:50%;
            transform:translateX(-50%);
            display:flex;
            gap:10px;
            z-index:10;
        }
        .indicator {
            width:12px;
            height:12px;
            border-radius:50%;
            background:rgba(255,255,255,0.5);
            cursor:pointer;
            transition:background 0.3s ease;
        }
        .indicator.active {
            background:#fff;
            width:24px;
            border-radius:6px;
        }

        /* 音乐框架样式（与原框架一致） */
        .music-frame {
            position:absolute;
            top:20px;
            right:20px;
            width:200px;
            height:200px;
            border-radius:8px;
            box-shadow:0 2px 5px rgba(0,0,0,0.1);
            overflow:hidden;
            background:linear-gradient(45deg, #e0f7fa, #b2ebf2);
            z-index:9;
        }
        .music-frame .music-title {
            position:absolute;
            top:10px;
            left:0;
            width:100%;
            text-align:center;
            color:#333;
            font-size:14px;
            z-index:1;
        }
        .music-frame img {
            width:calc(100% - 4mm);
            height:calc(100% - 4mm);
            margin:2mm;
            object-fit:cover;
            position:absolute;
            top:0;left:0;
        }
        .music-frame audio {
            position:absolute;
            bottom:10px;
            left:0;
            width:100%;
            padding:0 10px;
            z-index:1;
        }

        /* 返回按钮 */
        .back-home {
            position:absolute;
            bottom:20px;
            right:20px;
            padding:10px 20px;
            background:#bde0fe;
            color:#333;
            text-decoration:none;
            border-radius:8px;
            border:1px solid #87cefa;
            box-shadow:0 2px 4px rgba(0,0,0,0.1);
            cursor:pointer;
            z-index:99;
        }
        .back-home:hover {background:#a2cffe;}
        .back-home:active {transform:scale(0.95);}
    </style>
</head>
<body>
    <!-- 装饰元素 -->
    <img src="猫1.png" class="cat-img" alt="猫" onerror="this.src='https://via.placeholder.com/150';">
    <img src="猫2.png" class="cat-img1" alt="猫" onerror="this.src='https://via.placeholder.com/100';">
    <img src="紫藤花1.png" class="folder-img" alt="紫藤花" onerror="this.src='https://via.placeholder.com/150';">
    <img src="紫藤花2.png" class="folder-img1" alt="紫藤花" onerror="this.src='https://via.placeholder.com/100';">

    <!-- 音乐框架（花朵页面专属） -->
    <div class="music-frame">
        <div class="music-title">来，点这里，快点！</div>
        <img src="动漫4.jpg" alt="" onerror="this.src='https://via.placeholder.com/200';">
        <audio controls loop id="music">
            <source src="生日快乐祝福 .mp3" type="audio/mpeg">
            您的浏览器不支持音频播放
        </audio>
    </div>

    <!-- 照片轮播 -->
    <div class="photo-carousel">
        <div class="carousel-inner">
            <!-- 6张照片 -->
            <div class="carousel-item active">
                <img src="小寿星.jpg" alt="花照片1" onerror="this.src='https://via.placeholder.com/800x600?text=花照片1';">
            </div>
            <div class="carousel-item">
                <img src="多拉A梦生日快乐.jpg" alt="花照片2" onerror="this.src='https://via.placeholder.com/800x600?text=花照片2';">
            </div>
            <div class="carousel-item">
                <img src="海绵宝宝生日快乐.jpg" alt="花照片3" onerror="this.src='https://via.placeholder.com/800x600?text=花照片3';">
            </div>
            <div class="carousel-item">
                <img src="蜡笔小新生日快乐.jpg" alt="花照片4" onerror="this.src='https://via.placeholder.com/800x600?text=花照片4';">
            </div>
            <div class="carousel-item">
                <img src="小黄人生日快乐.jpg" alt="花照片5" onerror="this.src='https://via.placeholder.com/800x600?text=花照片5';">
            </div>
            <div class="carousel-item">
                <img src="玩具总动员生日快乐.jpg" alt="花照片6" onerror="this.src='https://via.placeholder.com/800x600?text=花照片6';">
            </div>
        </div>
        <!-- 切换按钮 -->
        <button class="carousel-control prev">&lt;</button>
        <button class="carousel-control next">&gt;</button>
        <!-- 指示器 -->
        <div class="carousel-indicators">
            <span class="indicator active" data-index="0"></span>
            <span class="indicator" data-index="1"></span>
            <span class="indicator" data-index="2"></span>
            <span class="indicator" data-index="3"></span>
            <span class="indicator" data-index="4"></span>
            <span class="indicator" data-index="5"></span>
        </div>
    </div>

   <!-- 提示框JS（仅首次打开提示） -->
   	<script>
   	    // 页面加载后强制弹出提示（仅首次）
   	    window.onload = function() {
   	        // 检查localStorage中是否有"hasShownMusicTip"标识
   	        const hasShownTip = localStorage.getItem('hasShownMusicTip');
   	        
   	        // 仅当未提示过时才执行弹窗逻辑
   	        if (!hasShownTip) {
   	            setTimeout(() => {
   	                const music = document.getElementById('music');
   	                const isPlay = confirm("请您点击旁边的播放键来取消静音并开始播放音乐吧！");
   	                if (isPlay) {
   	                    music.muted = false;
   	                    music.play().catch(err => alert("音乐播放失败，需要你手动点击一下播放控件哦~"));
   	                } else {
   	                    if (window.opener) window.close();
   	                    else alert("播放取消，网页正常保持开启！你为什么取消播放难道是不喜欢吗？");
   	                }
   	                // 标记为已提示，存入localStorage（永久有效，清除浏览器缓存后会重置）
   	                localStorage.setItem('hasShownMusicTip', 'true');
   	            }, 500); // 延迟确保页面加载完成
   	        }
   	    };
   	</script>

    <script>
        // 轮播逻辑
        const carouselItems = document.querySelectorAll('.carousel-item');
        const indicators = document.querySelectorAll('.indicator');
        const prevBtn = document.querySelector('.carousel-control.prev');
        const nextBtn = document.querySelector('.carousel-control.next');
        let currentIndex = 0;
        let autoPlayInterval;

        // 显示指定索引的图片
        function showSlide(index) {
            // 处理索引边界
            if (index >= carouselItems.length) currentIndex = 0;
            else if (index < 0) currentIndex = carouselItems.length - 1;
            else currentIndex = index;

            // 隐藏所有图片
            carouselItems.forEach(item => item.classList.remove('active'));
            // 显示当前图片
            carouselItems[currentIndex].classList.add('active');
            
            // 更新指示器
            indicators.forEach((indicator, idx) => {
                if (idx === currentIndex) indicator.classList.add('active');
                else indicator.classList.remove('active');
            });
        }

        // 下一张
        function nextSlide() {
            showSlide(currentIndex + 1);
        }

        // 上一张
        function prevSlide() {
            showSlide(currentIndex - 1);
        }

        // 自动播放
        function startAutoPlay() {
            autoPlayInterval = setInterval(nextSlide, 3000); // 3秒切换一次
        }

        // 停止自动播放
        function stopAutoPlay() {
            clearInterval(autoPlayInterval);
        }

        // 事件监听
        prevBtn.addEventListener('click', () => {
            stopAutoPlay();
            prevSlide();
            startAutoPlay(); // 点击后重新开始自动播放
        });

        nextBtn.addEventListener('click', () => {
            stopAutoPlay();
            nextSlide();
            startAutoPlay();
        });

        // 点击指示器切换
        indicators.forEach((indicator, idx) => {
            indicator.addEventListener('click', () => {
                stopAutoPlay();
                showSlide(idx);
                startAutoPlay();
            });
        });

        // 鼠标悬停时停止自动播放，离开后继续
        const carousel = document.querySelector('.photo-carousel');
        carousel.addEventListener('mouseenter', stopAutoPlay);
        carousel.addEventListener('mouseleave', startAutoPlay);

        // 初始化自动播放
        startAutoPlay();
    </script>
</body>
</html>