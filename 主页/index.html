<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>渐变背景装饰页</title>
    <style>
        * {margin:0;padding:0;box-sizing:border-box;}
        body {
            min-height:100vh;
            background:linear-gradient(135deg, #4facfe 0%, #ffe6f2 50%, #43e97b 100%);
            border:3px solid #000;
            position:relative;
            padding:20px;
            overflow:visible !important; /* 强制显示溢出元素 */
        }

        /* 装饰图片 */
        .cat-img {
         position:absolute;
         top: -30px; 
         left: -5px; 
         width:150px;
         height:150px;
         z-index:10;
       }
       
       .cat-img1 {
         position:absolute;
         top: 120px; 
         left: 5px; 
         width:100px;
         height:100px;
         z-index:10;
       }
       .folder-img {
         position:absolute;
         bottom: 140px; 
         right: -15px; 
         width: 150px;
         height: 150px;
         z-index:10;
       }
       
       .folder-img1 {
         position:absolute;
         bottom: 20px; 
         right: -20px;
         width: 100px;
         height: 100px;
         z-index:10;
       }
        /* 漂浮动画 */
        @keyframes float-random {
            0% {transform:translate(0,0) rotate(0deg);}
            20% {transform:translate(var(--x1),var(--y1)) rotate(var(--r1));}
            45% {transform:translate(var(--x2),var(--y2)) rotate(var(--r2));}
            70% {transform:translate(var(--x3),var(--y3)) rotate(var(--r3));}
            90% {transform:translate(var(--x4),var(--y4)) rotate(var(--r4));}
            100% {transform:translate(0,0) rotate(0deg);}
        }

        /* 文字框+空白框基础样式 */
        .floating-box {
            position:absolute !important; 
            padding:10px 15px;
            background:#ffe6f2;
            color:#000;
            font-weight:bold;
            border-radius:8px;
            text-decoration:none;
            font-size:14px;
            cursor:pointer;
            box-shadow:0 2px 5px rgba(0,0,0,0.1);
            z-index:5 !important; 
            animation:float-random var(--duration) ease-in-out infinite;
            animation-delay:var(--delay);
        }

        .empty-box {
            color:transparent;
            cursor:default;
            padding:15px 20px;
            width:80px;
            height:50px;
        }

        .floating-box:not(.empty-box):active {
            transform:scale(0.95);
            background:#ffcce5;
        }

        /* 心率线（强制显示+跳动） */
        #heartLine {
            position:absolute !important;
            bottom:30px !important;
            left:50% !important;
            transform:translateX(-50%) !important;
            width:calc(100%*2/3) !important;
            height:6px;
            background:#ff0000 !important;
            border-radius:3px;
            z-index:8 !important;
            transition:height 0.05s ease;
            animation: line-beat 1s ease-in-out infinite alternate;
        }

        @keyframes line-beat {
            0% {height:6px;}
            50% {height:15px;}
            100% {height:6px;}
        }

        /* 心率图标 */
        .heart-icon {
          position:absolute !important;
          bottom:23px !important; 
          left:calc(50% - (100%*1/3) - 40px) !important;
          width:35px;
          height:35px;
          z-index:9 !important;
          animation:heart-beat 1.2s infinite;
        }

        @keyframes heart-beat {
            0%{transform:scale(1);}15%{transform:scale(1.3);}30%{transform:scale(1);}45%{transform:scale(1.4);}60%{transform:scale(1);}75%{transform:scale(1.2);}90%{transform:scale(1);}100%{transform:scale(1);}
        }

        /* 音乐框架样式（与图2一致） */
        .music-frame {
            position:absolute;
            top:20px;
            right:20px;
            width:200px;
            height:200px;
            border-radius:8px;
            box-shadow:0 2px 5px rgba(0,0,0,0.1);
            overflow:hidden;
            background:linear-gradient(45deg, #e0f7fa, #b2ebf2);
            z-index:9;
        }
        .music-frame .music-title {
            position:absolute;
            top:10px;
            left:0;
            width:100%;
            text-align:center;
            color:#333;
            font-size:14px;
            z-index:1;
        }
        .music-frame img {
            width:calc(100% - 4mm);
            height:calc(100% - 4mm);
            margin:2mm;
            object-fit:cover;
            position:absolute;
            top:0;left:0;
        }
        .music-frame audio {
            position:absolute;
            bottom:10px;
            left:0;
            width:100%;
            padding:0 10px;
            z-index:1;
        }

        /* 漂浮框位置参数 */
        .box1{top:10%;left:10%;--duration:8s;--delay:0s;--x1:50px;--y1:-30px;--r1:3deg;}
        .box2{top:25%;left:25%;--duration:10s;--delay:0.5s;--x1:-40px;--y1:-20px;--r1:-1deg;}
        .box3{top:15%;right:15%;--duration:7s;--delay:1s;--x1:-30px;--y1:40px;--r1:2deg;}
        .box4{top:40%;left:20%;--duration:11s;--delay:1.5s;--x1:70px;--y1:20px;--r1:-3deg;}
        .box5{top:50%;right:25%;--duration:9s;--delay:2s;--x1:-20px;--y1:-50px;--r1:4deg;}
        .box6{top:65%;left:30%;--duration:12s;--delay:2.5s;--x1:30px;--y1:60px;--r1:-1deg;}
        .box7{top:20%;left:45%;--duration:6s;--delay:0.3s;--x1:-50px;--y1:30px;--r1:2deg;}
        .box8{top:35%;right:35%;--duration:10s;--delay:1.2s;--x1:60px;--y1:-20px;--r1:-4deg;}
        .box9{top:55%;left:15%;--duration:8s;--delay:1.8s;--x1:30px;--y1:-50px;--r1:1deg;}
        .box10{top:70%;right:10%;--duration:7s;--delay:0.7s;--x1:-40px;--y1:60px;--r1:-2deg;}
        .box11{top:30%;left:60%;--duration:11s;--delay:2.2s;--x1:50px;--y1:15px;--r1:3deg;}
        .box12{top:50%;left:40%;--duration:9s;--delay:0.2s;--x1:-30px;--y1:-30px;--r1:-2deg;}
        .box13{top:15%;right:40%;--duration:8s;--delay:1.6s;--x1:20px;--y1:40px;--r1:-3deg;}
        .box14{top:60%;right:30%;--duration:10s;--delay:2.8s;--x1:-50px;--y1:-40px;--r1:1deg;}
        .box15{top:45%;left:70%;--duration:7s;--delay:0.9s;--x1:60px;--y1:-30px;--r1:-1deg;}
        .box16{top:25%;right:55%;--duration:9s;--delay:2.1s;--x1:-20px;--y1:50px;--r1:4deg;}
    </style>
</head>
<body>
    <!-- 音乐框架（适配本地路径） -->
    <div class="music-frame">
        <div class="music-title">来，点这里，快点！</div>
        <img src="主图.jpg" alt="音乐封面">
        <audio controls id="music">
            <source src="多幸运（Live）.mp3" type="audio/mpeg">
            您的浏览器不支持音频播放
        </audio>
    </div>
    
    <!-- 装饰图片（本地路径） -->
    <img src="猫1.png" class="cat-img" alt="猫咪装饰1">
    <img src="猫2.png" class="cat-img1" alt="猫咪装饰2">
    <img src="紫藤花1.png" class="folder-img" alt="紫藤花装饰1">
    <img src="紫藤花2.png" class="folder-img1" alt="紫藤花装饰2">

    <!-- 文字框（跳转链接改为#占位，修正错别字） -->
    <a href="#" class="floating-box box1">加油吧，为了未来，为了新人生！</a>
    <a href="#" class="floating-box box2">这么快，就是大人了！</a>
    <a href="#" class="floating-box box3">又老了一岁了！</a>
    <a href="#" class="floating-box box4">生日快乐！</a>
    <a href="#" class="floating-box box5">How are you!</a>
    <a href="#" class="floating-box box6">哈喽！</a>

    <!-- 空白框（保留） -->
    <div class="floating-box empty-box box7"></div>
    <div class="floating-box empty-box box8"></div>
    <div class="floating-box empty-box box9"></div>
    <div class="floating-box empty-box box10"></div>
    <div class="floating-box empty-box box11"></div>
    <div class="floating-box empty-box box12"></div>
    <div class="floating-box empty-box box13"></div>
    <div class="floating-box empty-box box14"></div>
    <div class="floating-box empty-box box15"></div>
    <div class="floating-box empty-box box16"></div>

    <!-- 心率线+图标（本地路径） -->
    <div id="heartLine"></div>
    <img src="心脏.png" class="heart-icon" alt="心率图标">

<!-- 音乐播放提示JS（优化体验+仅首次提示） -->
<script>
    window.onload = function() {
        // 预加载音频，提升播放成功率
        const music = document.querySelector('#music');
        music.load();

        // 检查是否已显示过音乐提示（localStorage永久存储，清除缓存后重置）
        const hasShownMusicTip = localStorage.getItem('hasShownMusicTip');
        
        // 仅首次打开网页时执行提示逻辑
        if (!hasShownMusicTip) {
            setTimeout(() => {
                const isPlay = confirm("是否取消静音并开始播放音乐？");
                if (isPlay) {
                    music.muted = false;
                    // 处理浏览器自动播放限制
                    music.play().catch(err => {
                        alert("音乐自动播放失败（浏览器限制），请手动点击播放控件哦~");
                        // 聚焦播放控件，方便用户点击
                        music.focus();
                    });
                } else {
                    if (window.opener) window.close();
                    else alert("播放取消，网页正常保持开启！你为什么取消播放难道是不喜欢吗？");
                }
                // 标记为已提示，避免重复弹窗
                localStorage.setItem('hasShownMusicTip', 'true');
            }, 500);
        }
    };

    // 可选：给漂浮文字框添加点击反馈
    const linkBoxes = document.querySelectorAll('.floating-box:not(.empty-box)');
    linkBoxes.forEach(box => {
        box.addEventListener('click', function(e) {
            // 点击时添加短暂高亮
            this.style.background = '#ffb3d9';
            setTimeout(() => {
                this.style.background = '#ffe6f2';
            }, 200);
            // 打印跳转信息（方便调试）
            console.log(`点击了：${this.innerText}，跳转链接：${this.href}`);
        });
    });
</script>
</body>
</html>